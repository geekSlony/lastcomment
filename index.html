<!DOCTYPE html>
<html lang="en">
<head>
  <title>Third Party Cinder CI Report</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.8.1/bootstrap-table.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.8.1/bootstrap-table.min.js"></script>
</head>

<script>
  function timeFormatter(value, row, index) {
      var oneDay = 24 * 60 * 60 * 1000;
      var oneHour = 60 * 60 * 1000;
      var diff = Date.now() - Date.parse(value);
      if (Math.floor(diff/oneDay)<1) {
        return Math.floor(diff/oneHour) + " Hours"
      }
      return Math.floor(diff/oneDay) + " Days"
  }

  function timeStyle(value, row, index) {
      if (value.includes("Days")) {
          return {classes: 'danger'}
      }
      return {}
  }

  function rateStyle(value, row, index) {
      var num = parseInt(value.substring(0,value.length - 1))
      if (num < 60 ) {
          return {classes: 'danger'}
      }
      return {}

  }



</script>


<body>

<div class="container">
  <h1>Cinder Third party CI Report</h1>
  <p>Warning: the data here is static (but real), this is just a proof of concept</p>
  <p><a href="https://github.com/jogo/lastcomment">Source Code</a></p>
  <table data-toggle="table" data-url="data.json">
    <thead>
      <tr>
        <th data-field="name">Name</th>
        <th data-field="last" data-formatter="timeFormatter" data-cell-style="timeStyle">Last Seen</th>
        <th data-field="rate" data-cell-style="rateStyle">Success Rate</th>
      </tr>
    </thead>
  </table>
</div>

</body>
</html>

